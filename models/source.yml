version: 2

sources:
  - name: dbt_source
    database: DB_DBT_RLEGOAS_DEV 
    schema: source
    tables:
      - name: restaurants
        description: This table contains info about the restaurants
        columns:
          - name: identifier
            description: This is unique identifier for the restaurant
            tests:
              - unique
              - not_null

      - name: orders
        description: This table contains info about the orders
        columns:
          - name: restaurant_identifier
            description: This is unique identifier for the order
            tests:
              - not_null
              - relationships:
                  field: identifier
                  to: ref('base_restaurants')